<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">
	<style>
	table, th, td {
		border: 1px solid black;
	}
	</style>
	<script src="ajax5.js"></script>
	<script type="text/javascript" src="instrucao.js"></script>
	<script type="text/javascript" src="LineModel1.js"></script>
	<script type="text/javascript" src="LineModel2.js"></script>
	<script type="text/javascript" src="LineModel3.js"></script>
	<script type="text/javascript" src="instructionStatus.js"></script>
	<script type="text/javascript" src="reservationStation.js"></script>
	<script type="text/javascript" src="registerFile.js"></script>
	<script type="text/javascript" src="Foto.js"></script>
	<script type="text/javascript" src="tomasulo.js"></script>
	<script>
		window.onload = montaTabelas;
		var teste = window.localStorage.getItem("instrucao0")
		var quantidade = parseInt(window.localStorage.getItem("quantidade"));
		function montaTabelas() {
			montaTabelaInstr();
			montaInstrStation();
			montaLoadU();
			montaStoreU();
			montaReservStation();
			montaRegisterStation();
			init();
		}		
		function montaTabelaInstr() {
			var out = "";
			var i;
			out += "<table id=\"instrucoes\">";
			for(i=0; i < quantidade; i++){
				var id = i*4;
				out += "<tr>";
				out += "<td id=\""+id+"\"></td><td id=\""+(id+1)+"\"></td><td id=\""+(id+2)+"\"></td><td id=\""+(id+3)+"\"></td>";
				out += "</tr>";
			}
			out += "</table>";	
			document.getElementById("teste").innerHTML = out;
			var id = 0;
			for(i = 0; i < quantidade; i++) { 
				document.getElementById(id).innerHTML = window.localStorage.getItem("instrucao"+i);
				document.getElementById(id+1).innerHTML = window.localStorage.getItem("reg1"+i);
				document.getElementById(id+2).innerHTML = window.localStorage.getItem("reg2"+i);
				document.getElementById(id+3).innerHTML = window.localStorage.getItem("reg3"+i);
				id += 4;
			}
			document.getElementById("qL").innerHTML = window.localStorage.getItem("qtdLoad");
			document.getElementById("qS").innerHTML = window.localStorage.getItem("qtdStore");
			document.getElementById("qAS").innerHTML = window.localStorage.getItem("qtdAdd");
			document.getElementById("qM").innerHTML = window.localStorage.getItem("qtdMult");
			document.getElementById("qD").innerHTML = window.localStorage.getItem("qtdDiv");
				
		}
		function montaInstrStation() {
			var out = "";
			var i;
			out += "<table id=\"instrStation\">";
			out += "<tr><th>Issue</th><th>Exec comp</th><th>Write Result</th></tr>";
			for(i = 0; i < quantidade; i++) {
				out += "<tr>";
				out += "<td></td><td></td><td></td>";
				out += "</tr>";
			}
			out += "</table>";
			document.getElementById("instructionStation").innerHTML = out;
		}
		function montaLoadU() {
			var out = "";
			var i;
			out += "<table id=\"loadStation\">";
			out += "<tr><th>Name</th><th>Busy</th><th>Address</th><th>Funct Unit</th></tr>";
			for(i = 0; i < quantidade; i++) {
				out += "<tr>";
				out += "<td></td><td></td><td></td><td></td>";
				out += "</tr>";
			}
			out += "</table>";
			document.getElementById("loadStation").innerHTML = out;
		}
		function montaStoreU() {
			var out = "";
			var i;
			out += "<table id=\"storeStation\">";
			out += "<tr><th>Name</th><th>Busy</th><th>Address</th><th>FunctUnit</th></tr>";
			for(i = 0; i < quantidade; i++) {
				out += "<tr>";
				out += "<td></td><td></td><td></td><td></td>";
				out += "</tr>";
			}
			out += "</table>";
			document.getElementById("storeStation").innerHTML = out;
		}
		function montaReservStation() {
			var out = "";
			var i;
			out += "<table id=\"reservStation\">";
			out += "<tr><th>Name</th><th>Busy</th><th>Op</th><th>Vj</th><th>Vk</th><th>Qj</th><th>Qk</th><th>time</th></tr>";
			for(i = 0; i < quantidade; i++) {
				out += "<tr>";
				out += "<td></td><td></td><td></td>";
				out += "</tr>";
			}
			out += "</table>";
			document.getElementById("reservStation").innerHTML = out;
		}	
		function montaRegisterStation() {
			var out = "";
			var i;
			out += "<table id=\"registerStation\">";
			out += "<tr>";
			for(i = 0; i < 31; i += 2) {
				out += "<th>F"+i+"</th>";
			}
			out += "</tr>";
			out += "<tr>";
			for(i = 0; i < 31; i += 2) {
				out += "<td></td>";
			}
			out += "</tr>";
			out += "</table>";
			document.getElementById("regStation").innerHTML = out;
		}
	</script>
</head>
<body>
	<div id="teste">
	</div>
	<div>
		<table>
		<tr>
			<th>Load</th>	
			<th>Store</th>
			<th>Add/Sub</th>
			<th>Mult</th>
			<th>Div</th>
		</tr>
		<tr>
			<td id="qL"></td>
			<td id="qS"></td>
			<td id="qAS"></td>
			<td id="qM"></td>
			<td id="qD"></td>
		</tr>
		</table>
	</div>
	<div id="instructionStation">
	</div>
	<div id="loadStation">
	</div>
	<div id="storeStation">
	</div>
	<div id="reservStation">
	</div>
	<div id="regStation">
	</div>
	<input type="button" id="prev" onClick="prev();" value="voltar">
	<input type="button" id="prox" onClick="update();" value="proximo">
</body>
</html>


 
